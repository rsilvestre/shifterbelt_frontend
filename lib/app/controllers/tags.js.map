{"version":3,"sources":["../../../src/app/controllers/tags.js"],"names":[],"mappings":";;;;;;AAIA,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AACnC,IAAI,OAAO,GAAG,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;;;;;;AAMxC,OAAO,CAAC,KAAK,GAAG,UAAU,GAAG,EAAE,GAAG,EAAE;AAClC,MAAI,QAAQ,GAAG,EAAE,IAAI,EAAE,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC;AAC1C,MAAI,OAAO,GAAG,CAAC,CAAC;AAChB,MAAI,IAAI,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA,GAAI,CAAC,CAAC;AAC/D,MAAI,OAAO,GAAG;AACZ,WAAO,EAAE,OAAO;AAChB,QAAI,EAAE,IAAI;AACV,YAAQ,EAAE,QAAQ;GACnB,CAAC;;AAEF,SAAO,CAAC,IAAI,CAAC,OAAO,EAAE,UAAS,GAAG,EAAE,QAAQ,EAAE;AAC5C,QAAI,GAAG,EAAE,OAAO,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAClC,WAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,EAAE,KAAK,EAAE;AACjD,SAAG,CAAC,MAAM,CAAC,gBAAgB,EAAE;AAC3B,aAAK,EAAE,kBAAkB,GAAG,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC;AAC5C,gBAAQ,EAAE,QAAQ;AAClB,YAAI,EAAE,IAAI,GAAG,CAAC;AACd,aAAK,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC;OAClC,CAAC,CAAC;KACJ,CAAC,CAAC;GACJ,CAAC,CAAC;CACJ,CAAC","file":"tags.js","sourcesContent":["/**\n * Module dependencies.\n */\n\nvar mongoose = require('mongoose');\nvar Article = mongoose.model('Article');\n\n/**\n * List items tagged with a tag\n */\n\nexports.index = function (req, res) {\n  var criteria = { tags: req.param('tag') };\n  var perPage = 5;\n  var page = (req.param('page') > 0 ? req.param('page') : 1) - 1;\n  var options = {\n    perPage: perPage,\n    page: page,\n    criteria: criteria\n  };\n\n  Article.list(options, function(err, articles) {\n    if (err) return res.render('500');\n    Article.count(criteria).exec(function (err, count) {\n      res.render('articles/index', {\n        title: 'Articles tagged ' + req.param('tag'),\n        articles: articles,\n        page: page + 1,\n        pages: Math.ceil(count / perPage)\n      });\n    });\n  });\n};\n"]}